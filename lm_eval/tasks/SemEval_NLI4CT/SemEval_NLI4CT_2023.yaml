task: SemEval_NLI4CT_2023
tag:
  - 0-shot
dataset_path: araag2/SemEval_NLI4CT
dataset_name: 2023_conversational
dataset_kwargs:
  trust_remote_code: true
output_type: generate_until
generation_kwargs:
  until: ["Entailment\n", "Contradiction\n"]
  do_sample: True
  temperature: 0.7
  top_p: 0.8
  top_k: 20
#  max_new_tokens: 2048
training_split: train
validation_split: dev
test_split: test
#description: |
#  You are a medical expert tasked with determining the relationship between a medical premise and a hypothesis. The task is to classify the relationship as one of the following: entailment, neutral, or contradiction. The premise is a medical statement, and the hypothesis is a medical hypothesis about what can be infered from that statement.
doc_to_text: "{{prompt}}"
filter_list:
  - name: extract_label
    filter:
      - function: "regex"
        regex_pattern: "(?i)(Entailment|Contradiction)"
        group_select: -1
      - function: "take_first"
      - function: "random_label_if_invalid"
doc_to_choice: ["Entailment", "Contradiction"]
doc_to_target: !function utils.label_to_index
#should_decontaminate: true
#doc_to_decontamination_query: "{{sentence1}} {{sentence2}}"
metric_list:
  - metric: acc
    aggregation: mean
    higher_is_better: true
    ignore_case: true
    ignore_punctuation: true
  - metric: acc_norm
    aggregation: mean
    higher_is_better: true
    ignore_case: true
    ignore_punctuation: true
  - metric: exact_match
    aggregation: mean
    higher_is_better: true
    ignore_case: true
    ignore_punctuation: true
metadata:
  version: 1.0